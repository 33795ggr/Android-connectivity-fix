# üåç Global Connectivity Fix for Chinese Android ROMs (CIS Region)
### Fix for "No Internet" bugs, Google Sync issues, and System Banners on Vivo, Oppo, Xiaomi, and others.

---

## üá∑üá∫ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (The Pain)
–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞ (OriginOS, ColorOS, HyperOS), –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ —Å—Ç—Ä–∞–Ω–∞—Ö –°–ù–ì —á–∞—Å—Ç–æ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è —Å ¬´—Ñ–∞–Ω—Ç–æ–º–Ω—ã–º¬ª –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. 

**–°–∏–º–ø—Ç–æ–º—ã:**
* –ò–∫–æ–Ω–∫–∞ Wi-Fi —Å –∫—Ä–µ—Å—Ç–∏–∫–æ–º –∏–ª–∏ –≤–æ—Å–∫–ª–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º –∑–Ω–∞–∫–æ–º (—è–∫–æ–±—ã –Ω–µ—Ç —Å–µ—Ç–∏).
* **Google Drive, YouTube, Gmail** –∏ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è, —Å—á–∏—Ç–∞—è, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ—Ñ—Ñ–ª–∞–π–Ω.
* –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–æ–π—Ç–∏ –≤ —Å–µ—Ç—å (Captive Portal).
* –ü—Ä–æ–±–ª–µ–º—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º—ã.

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ—à–∏–≤–∫–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —á–µ—Ä–µ–∑ –∫–∏—Ç–∞–π—Å–∫–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ (google.cn –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è), –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –†–§/–°–ù–ì. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç ¬´–æ—Ç–∫–∞–∑¬ª –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º–Ω–æ–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

---

## üá¨üáß The Problem (The Context)
Android devices with Chinese ROMs are hardcoded to verify internet access via Chinese endpoints. In the CIS region, these checks often fail due to network restrictions or high latency.

**The result:** Even with high-speed Wi-Fi, the system reports "No Connection," causing critical apps (Google Workspace, Cloud Backups) to stop functioning. This project provides a **permanent, proxy-free solution** to redirect these checks to reliable global mirrors.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ / The Solution
–ú—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (Captive Portal) –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∑–µ—Ä–∫–∞–ª–∞ –∏ –æ—Ç–∫–ª—é—á–∞–µ–º –Ω–∞–≤—è–∑—á–∏–≤—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ–≤–µ—Ä–∫–∏. **–ù–∏–∫–∞–∫–∏—Ö VPN, –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–∫—Å–∏, –Ω–µ —Ç—Ä–∞—Ç–∏—Ç –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ–∏.** –û–¥–∏–Ω —Ä–∞–∑ –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ ‚Äî –∏ –∑–∞–±—ã–ª–∏.

### üõ† –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–ü–ö/Mac)
–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±. –í–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–æ–º–ø—å—é—Ç–µ—Ä –∏ –≤–∫–ª—é—á–µ–Ω–Ω–∞—è "–û—Ç–ª–∞–¥–∫–∞ –ø–æ USB".

1. –°–∫–∞—á–∞–π—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã:
   - **Windows:** `fix_china_net.bat`
   - **macOS/Linux:** `fix_china_net.sh`
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω.

### üì± –°–ø–æ—Å–æ–± 2: –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ (SetEdit)
–ï—Å–ª–∏ –ø–æ–¥ —Ä—É–∫–æ–π –Ω–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **SetEdit**.
2. –í —Ç–∞–±–ª–∏—Ü–µ `Global Table` –Ω–∞–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É `captive_portal_mode` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `0`.
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

---

## üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å / Technical Details
–°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ ADB:

```bash
# Redirecting HTTP/HTTPS checks to KDE mirrors (Reliable & Global)
adb shell settings put global captive_portal_http_url [http://nmcheck.kde.org/check_network_status.txt](http://nmcheck.kde.org/check_network_status.txt)
adb shell settings put global captive_portal_https_url [https://nmcheck.kde.org/check_network_status.txt](https://nmcheck.kde.org/check_network_status.txt)

# Disabling strict captive portal mode to prevent "Offline" false-positives
adb shell settings put global captive_portal_mode 0
